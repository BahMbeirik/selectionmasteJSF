<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Ajouter un utilisateur</title>
    <h:outputStylesheet name="css/login-styles.css" />
</h:head>
<h:body>
    <div class="container">
        <h:form styleClass="login-form">
            <!-- Formulaire pour ajouter un utilisateur -->
            <p:panel header="Ajouter un utilisateur" styleClass="login-panel">
                <div class="form-group">
                    <h:outputLabel value="Nom d'utilisateur:" styleClass="obligatoire form-label" />
                    <p:inputText value="#{userManagementBean.user.username}" id="username"
                                 required="true" requiredMessage="Le Nom d'utilisateur est requis" styleClass="form-input" />
                    <p:message for="username" styleClass="error-message" />
                </div>
                <div class="form-group">
                    <h:outputLabel value="Mot de passe:" styleClass="obligatoire" />
                    <p:password value="#{userManagementBean.user.password}" id="password"
                                required="true" requiredMessage="Le Mot de passe est requis" styleClass="form-input" />
                    <p:message for="password" styleClass="error-message" />
                </div>
                <div class="form-group">
				    <h:outputLabel for="role" value="Rôle:" />
				    <p:selectOneMenu id="role" value="#{userManagementBean.user.role}" styleClass="form-input" disabled="true">
				        <f:selectItem itemValue="CANDIDAT" itemLabel="CANDIDAT" />
				    </p:selectOneMenu>
				</div>

                <div class="button-container">
                    <!-- Bouton pour ajouter l'utilisateur -->
                    <p:commandButton value="Ajouter" action="#{userManagementBean.addUser}" update="@form" style="width: 300px;" />
                </div>

                <!-- Lien pour retourner à la page de connexion -->
                <h:link outcome="/pages/login.xhtml" styleClass="auth-link">
                    Retour à la connexion
                </h:link>
            </p:panel>
        </h:form>
    </div>
</h:body>
</html>